const seelejs = require('seele.js')

client = new seelejs('117.50.20.218')
// var client = new seelejs()

client.getBalance("0x7c00f5a4312a6a3e458a07c2d650ce13c76b68b1")

client.getAccountNonce("0x7c00f5a4312a6a3e458a07c2d650ce13c76b68b1", function(result){
	if (result instanceof Error){
		console.log("err: "+result)
		return
	}

	var accountNonce = result
	var rawTx = {
		"From" : "0x7c00f5a4312a6a3e458a07c2d650ce13c76b68b1",
		"To" : "0x0000000000000000000000000000000000000000",
		"Amount" : 50000000000,
		"AccountNonce" : accountNonce,
		"GasPrice":1,
		"GasLimit":3000000,
		"Timestamp":0,
		"Payload": "0x608060405233600260006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555061091c806100546000396000f300608060405260043610610062576000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff16806302d05d3f146100675780630c2b2186146100be5780636bdebcc9146101005780639977c78a14610117575b600080fd5b34801561007357600080fd5b5061007c610184565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b6100e660048036038101908080359060200190929190803590602001909291905050506101aa565b604051808215151515815260200191505060405180910390f35b34801561010c57600080fd5b50610115610552565b005b34801561012357600080fd5b5061014260048036038101908080359060200190929190505050610652565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b600260009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b600080838302346064021015151561022a576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260148152602001807f77696e56616c756520697320746f206c6172676500000000000000000000000081525060200191505060405180910390fd5b3073ffffffffffffffffffffffffffffffffffffffff163160028402111515156102e2576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260218152602001807f492068617665206e6f20656e6f756768206d6f6e657920746f2070617920796f81526020017f750000000000000000000000000000000000000000000000000000000000000081525060400191505060405180910390fd5b60008060003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000205414156103905760013390806001815401808255809150509060018203906000526020600020016000909192909190916101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550505b610398610690565b9050606481111580156103ac575060018110155b15156103b457fe5b806000803373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008282540192505081905550838110156104d3573373ffffffffffffffffffffffffffffffffffffffff166108fc849081150290604051600060405180830381858888f1935050505015801561044e573d6000803e3d6000fd5b507f4d1dda173b8c0fcc123ee7c5cb331e3731e5e2dcde5bcc763c40ce953f81f8bf33858386604051808573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200184815260200183815260200182815260200194505050505060405180910390a16001915061054b565b7f655dc916988b3746402901627e8485408dccba300f8396bcc750826ca9a92182338583604051808473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001838152602001828152602001935050505060405180910390a1600091505b5092915050565b600260009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff16141515610617576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252600c8152602001807f77686f20796f75206172653f000000000000000000000000000000000000000081525060200191505060405180910390fd5b600260009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16ff5b60018181548110151561066157fe5b906000526020600020016000915054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b600080600080600091505b60018054905082101561084057826001838154811015156106b857fe5b9060005260206000200160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff166000806001868154811015156106f557fe5b9060005260206000200160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000205442604051602001808581526020018473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166c010000000000000000000000000281526014018381526020018281526020019450505050506040516020818303038152906040526040518082805190602001908083835b60208310151561080057805182526020820191506020810190506020830392506107db565b6001836020036101000a0380198251168184511680821785525050505050509050019150506040518091039020600190049250818060010192505061069b565b8244426040516020018084815260200183815260200182815260200193505050506040516020818303038152906040526040518082805190602001908083835b6020831015156108a55780518252602082019150602081019050602083039250610880565b6001836020036101000a038019825116818451168082178552505050505050905001915050604051809103902060019004905060046060828115156108e657fe5b06019350505050905600a165627a7a72305820f6170a7d272e607167446f3bc5c36200a7a7b0e9a7326c50e0109e198e0962a00029"
	}
	
    var tx = client.generateTx("0x2cc433dbbe52a47e3fefc70449f2f018aa2a6a1aad185da1b2404fb9cbb95a04", rawTx)
	console.log(tx);

	client.addTx(tx, function(err, result){
		if (err){
			console.log(err)
			return 
		}
		
		// hash : 0x2dfda44638180e283aa6bbd59e5f64f8a0af58761bb0650a18d9bcc2bc8cd00e
		console.log(result)
	})
})


// client.getInfo()
// client.getBalance("0x7c00f5a4312a6a3e458a07c2d650ce13c76b68b1")
